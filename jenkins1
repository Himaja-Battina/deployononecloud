pipeline {
    agent{
    label "PokOpenShiftOnZ"
    }
    stages {
        stage('Deploy Application') {
            steps {
            withCredentials([string(credentialsId: 'zfw-ocpadmin-jenkins-sa', variable: 'OCP_stoken')]){
                   
                                 
                // Install 'oc' command using 'openshift-client-plugin'
               
                // Configure OCP credentials
                
                    // Deploy application to OCP cluster using 'oc' command and deployment YAML file
                    
                    sh 'oc login --token=$OCP_stoken oc project zfw-jenkins-ocpadmins --insecure-skip-tls-verify && oc apply -f application-deployment.yaml'
                }
            }
        }
    }
}
